{"ast":null,"code":"var _jsxFileName = \"/home/john/Documents/work/siit-react-master/src/components/auth/Register.js\";\nimport React, { useState, useContext } from 'react';\nimport axios from 'axios';\nimport qs from 'qs';\nimport AuthContext from './AuthContext';\nconst errorMessages = {\n  'username': 'You must enter a username!',\n  'password': 'You must enter a password!',\n  'retype-password': 'You must retype the password!',\n  'different-passwords': 'You must enter the same password twice!',\n  'no-numbers': 'Your username cannot contain any special characters or numbers!'\n};\n\nfunction Register() {\n  // Vom stoca aici toate value-urile input-urilor din formular\n  const [formData, setFormData] = useState({\n    'username': '',\n    'password': '',\n    'retype-password': ''\n  }); // Vom seta cate un mesaj de eroare pentru fiecare form field in parte in cazul in care e eronat campul\n\n  const [formError, setFormError] = useState({\n    'username': '',\n    'password': '',\n    'retype-password': '',\n    'different-passwords': ''\n  }); // O vom folosi pentru cand vine raspuns cu eroare de la server\n\n  const [globalErrorMessage, setGlobalError] = useState(''); // O vom folosi doar pentru mesajul de succes\n\n  const [isSuccessfull, setSuccessfull] = useState(false);\n  /*\r\n      Vom folosi aceasta variabila de stare ca sa determinam daca formularul s-a modificat si vom face butonul\r\n      disabled daca nu s-a modificat.       \r\n        Prin urmare vom seta isDirty true atunci cand se declanseaza Change la orice input.\r\n        De asemenea vom face isDirty false de fiecare data cand se da Submit.\r\n  */\n\n  const [isDirty, setDirty] = useState(false);\n  const {\n    setToken\n  } = useContext(AuthContext);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setGlobalError('');\n    const isInvalid = validateFormData();\n\n    if (!isInvalid) {\n      setDirty(false);\n\n      try {\n        const res = await axios('https://ancient-caverns-16784.herokuapp.com/auth/register', {\n          method: 'POST',\n          data: qs.stringify(formData)\n        });\n        setToken(res.data.accessToken);\n        localStorage.setItem('token', res.data.accessToken);\n        setSuccessfull(true);\n      } catch (e) {\n        setGlobalError(e.response.data.message);\n      }\n    }\n  }\n\n  function validateFormData() {\n    const inputs = ['username', 'password', 'retype-password'];\n    const newError = { ...formError\n    };\n    let isInvalid = false;\n\n    for (const input of inputs) {\n      if (!formData[input]) {\n        newError[input] = errorMessages[input];\n        isInvalid = true;\n      }\n    }\n\n    if (!/^[a-z0-9]+$/i.test(formData.username)) {\n      newError.username = errorMessages['no-numbers'];\n      isInvalid = true;\n    }\n\n    if (formData.password !== formData['retype-password']) {\n      newError['different-passwords'] = errorMessages['different-passwords'];\n      isInvalid = true;\n    }\n\n    setFormError(newError);\n    return isInvalid;\n  }\n\n  function handleInputChange(e) {\n    // const prop = e.currentTarget.id;\n    // const newObj = { ...formData };\n    // newObj[prop] = e.currentTarget.value;\n    // setFormData(newObj);\n    setDirty(true);\n    setFormData({ ...formData,\n      [e.currentTarget.id]: e.currentTarget.value\n    }); // Aici resetam erorile in cazul in care se scrie din nou in inputuri\n\n    const newError = { ...formError,\n      [e.currentTarget.id]: ''\n    };\n\n    if (e.currentTarget.id === 'password' || e.currentTarget.id === 'retype-password') {\n      newError['different-passwords'] = '';\n    }\n\n    setFormError(newError);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, \"Register\"), globalErrorMessage ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, globalErrorMessage) : null, isSuccessfull ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-success\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, \"Your username was created successfully!\") : null, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleInputChange,\n    value: formData.username,\n    type: \"text\",\n    className: 'form-control' + (formError.username ? ' is-invalid' : ''),\n    id: \"username\",\n    placeholder: \"Enter username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }, formError.username)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleInputChange,\n    value: formData.password,\n    type: \"password\",\n    className: 'form-control' + (formError.password ? ' is-invalid' : ''),\n    id: \"password\",\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 21\n    }\n  }, formError.password)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"retype-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 21\n    }\n  }, \"Retype Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleInputChange,\n    value: formData['retype-password'],\n    type: \"password\",\n    className: 'form-control' + (formError['retype-password'] || formError['different-passwords'] ? ' is-invalid' : ''),\n    id: \"retype-password\",\n    placeholder: \"Retype Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 21\n    }\n  }, formError['retype-password'], formError['retype-password'] ? /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 58\n    }\n  }) : '', formError['different-passwords'])), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    disabled: !isDirty,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }\n  }, \"Register\")));\n}\n\nexport default Register;","map":{"version":3,"sources":["/home/john/Documents/work/siit-react-master/src/components/auth/Register.js"],"names":["React","useState","useContext","axios","qs","AuthContext","errorMessages","Register","formData","setFormData","formError","setFormError","globalErrorMessage","setGlobalError","isSuccessfull","setSuccessfull","isDirty","setDirty","setToken","handleSubmit","e","preventDefault","isInvalid","validateFormData","res","method","data","stringify","accessToken","localStorage","setItem","response","message","inputs","newError","input","test","username","password","handleInputChange","currentTarget","id","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport qs from 'qs';\r\n\r\nimport AuthContext from './AuthContext';\r\n\r\nconst errorMessages = {\r\n    'username': 'You must enter a username!',\r\n    'password': 'You must enter a password!',\r\n    'retype-password': 'You must retype the password!',\r\n    'different-passwords': 'You must enter the same password twice!',\r\n    'no-numbers': 'Your username cannot contain any special characters or numbers!',\r\n};\r\n\r\nfunction Register() {\r\n    // Vom stoca aici toate value-urile input-urilor din formular\r\n    const [formData, setFormData] = useState({\r\n        'username': '',\r\n        'password': '',\r\n        'retype-password': ''\r\n    });\r\n\r\n    // Vom seta cate un mesaj de eroare pentru fiecare form field in parte in cazul in care e eronat campul\r\n    const [formError, setFormError] = useState({\r\n        'username': '',\r\n        'password': '',\r\n        'retype-password': '',\r\n        'different-passwords': ''\r\n    });\r\n\r\n    // O vom folosi pentru cand vine raspuns cu eroare de la server\r\n    const [globalErrorMessage, setGlobalError] = useState('');\r\n    // O vom folosi doar pentru mesajul de succes\r\n    const [isSuccessfull, setSuccessfull] = useState(false);\r\n    /*\r\n        Vom folosi aceasta variabila de stare ca sa determinam daca formularul s-a modificat si vom face butonul\r\n        disabled daca nu s-a modificat.       \r\n\r\n        Prin urmare vom seta isDirty true atunci cand se declanseaza Change la orice input.\r\n\r\n        De asemenea vom face isDirty false de fiecare data cand se da Submit.\r\n    */\r\n    const [isDirty, setDirty] = useState(false);\r\n\r\n    const { setToken } = useContext(AuthContext);\r\n\r\n    async function handleSubmit(e) { \r\n        e.preventDefault(); \r\n\r\n        setGlobalError('');\r\n\r\n        const isInvalid = validateFormData();\r\n\r\n        if(!isInvalid) {\r\n            setDirty(false);\r\n            try {\r\n                const res = await axios('https://ancient-caverns-16784.herokuapp.com/auth/register',{\r\n                    method: 'POST',\r\n                    data: qs.stringify(formData),\r\n                });\r\n\r\n                setToken(res.data.accessToken);\r\n                localStorage.setItem('token', res.data.accessToken);\r\n\r\n                setSuccessfull(true);\r\n            } catch(e) {\r\n                setGlobalError(e.response.data.message);\r\n            }\r\n        }\r\n    }\r\n\r\n    function validateFormData() {\r\n        const inputs = ['username', 'password', 'retype-password'];\r\n        const newError = { ...formError };\r\n        let isInvalid = false;\r\n        \r\n        for(const input of inputs) {\r\n            if(!formData[input]) {\r\n                newError[input] = errorMessages[input];\r\n                isInvalid = true;\r\n            }\r\n        }\r\n\r\n        if(!(/^[a-z0-9]+$/i.test(formData.username))) {\r\n            newError.username = errorMessages['no-numbers'];\r\n            isInvalid = true;\r\n        }\r\n        \r\n        if(formData.password !== formData['retype-password']) {\r\n           newError['different-passwords'] = errorMessages['different-passwords'];\r\n           isInvalid = true;\r\n        }\r\n\r\n        setFormError(newError);\r\n        return isInvalid;\r\n    }\r\n\r\n    function handleInputChange(e) {\r\n        // const prop = e.currentTarget.id;\r\n        // const newObj = { ...formData };\r\n        // newObj[prop] = e.currentTarget.value;\r\n\r\n        // setFormData(newObj);\r\n        setDirty(true);\r\n\r\n        setFormData({\r\n            ...formData,\r\n            [e.currentTarget.id]: e.currentTarget.value\r\n        });\r\n\r\n        // Aici resetam erorile in cazul in care se scrie din nou in inputuri\r\n        const newError = { \r\n            ...formError, \r\n            [e.currentTarget.id]: '',\r\n        };\r\n\r\n        if(e.currentTarget.id === 'password' || e.currentTarget.id === 'retype-password') {\r\n            newError['different-passwords'] = '';\r\n        }\r\n\r\n        setFormError(newError);\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <h1>Register</h1>\r\n\r\n            { (globalErrorMessage ?  \r\n                <div className=\"alert alert-danger\" role=\"alert\">\r\n                    { globalErrorMessage }\r\n                </div>\r\n            : null) }\r\n\r\n            { (isSuccessfull ?  \r\n                <div className=\"alert alert-success\" role=\"alert\">\r\n                    Your username was created successfully!\r\n                </div>\r\n            : null) }\r\n\r\n            <form onSubmit={ handleSubmit }>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"username\">Username</label>\r\n                    <input \r\n                        onChange={ handleInputChange }\r\n                        value={ formData.username }\r\n                        type=\"text\"\r\n                        className={ 'form-control' + (formError.username ? ' is-invalid' : '') }\r\n                        id=\"username\"\r\n                        placeholder=\"Enter username\"\r\n                    />\r\n    \r\n                    <div className=\"invalid-feedback\">\r\n                        { formError.username }\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                        onChange={ handleInputChange }\r\n                        value={ formData.password }\r\n                        type=\"password\"\r\n                        className={ 'form-control' + (formError.password ? ' is-invalid' : '') }\r\n                        id=\"password\"\r\n                        placeholder=\"Password\"\r\n                    />\r\n                    <div className=\"invalid-feedback\">\r\n                        { formError.password }\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"retype-password\">Retype Password</label>\r\n                    <input\r\n                        onChange={ handleInputChange }\r\n                        value={ formData['retype-password'] }\r\n                        type=\"password\"\r\n                        className={ 'form-control' + (formError['retype-password'] || formError['different-passwords']  ? ' is-invalid' : '') }\r\n                        id=\"retype-password\"\r\n                        placeholder=\"Retype Password\" \r\n                    />\r\n                    <div className=\"invalid-feedback\">\r\n                        { formError['retype-password'] }\r\n                        { formError['retype-password'] ? <br /> : '' }\r\n                        { formError['different-passwords'] }\r\n                    </div>\r\n                    \r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-primary\" disabled={ !isDirty }>Register</button>\r\n            </form>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}